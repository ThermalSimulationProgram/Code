
filename = 'singlecore_benchmarks.eps';

kernels = {'cs', 'pboo', 'saptm', 'jour'};
control = [1, 1, 1, 1];

prefix = 'benchmark_';

all_benchmarks = {'ackermann',...	
					'bitops',...
					'correlate',...
					'crc16',...	
					'djb2a',...	
					'euler',...	
					'explog',...		
					'fft',		...
					'fibonacci',...	
					'float',... 		
					'fnv1a',...		
					'gcd',	...	
					'hamming',	...	
					'hyperbolic',...
					'idct',	...	
					'int', 	...	
					'jenkin',...		
					'jmp',		...
					'ln2',	...	
					'loop',	...	
					'matrixprod',...
					'nsqrt',...		
					'omega',...		
					'phi',	...	
					'pi',...			
					'pjw',...		
					'prime',...		
					'psi',	...	
					'queens',...		
					'sdbm',	...	
					'sqrt', ...		
					'trig',	...	
					'union'};


allTemp = cell(1, 4);

for i = 1:4
    allTemp{i} = zeros(1, numel(all_benchmarks));
end

cel2K = 273.15;

for i = 1 : 4
    if ~control(i)
        continue;
    end
    
    id = 1;
    
    for benchmark = all_benchmarks
        
        name = [ prefix, benchmark{1}, '_', kernels{i}, '_result.csv'];
        
        M = csvread(name);
        
        allTemp{1, i}(id) = M(2, 1)/1000 + cel2K;
        
        id = id + 1;
        
    end  
end


allT = [allTemp{1}; allTemp{2}; allTemp{3};allTemp{4}]';
%allT = [avrgT_bws; avrgT_pboo]';

part1 = 1:16;
part2 = 17:size(allT,1);

fsize = 10;

c = categorical(all_benchmarks(part1));
ax = bar(c, allT(part1,:));
ylim([305, 320]);
ylabel('Temperature / K','FontSize',fsize,  'Rotation', 90)
set(gca, 'Position', [0.15,0.15,0.8,0.3],'FontName','Times New Roman','FontSize',fsize)
h = legend('CS', 'PMPT', 'AAPTM', 'JOUR', 'Location', 'Best','Orientation', 'horizontal');
grid on
%saveas(gca, '../benchmark_approaches_1_dell9020.eps' ,'epsc2') ;

%clf;

figure
c = categorical(all_benchmarks(part2));
ax2 = bar(c, allT(part2,:));
ylim([305, 320]);
ylabel('Temperature / K','FontSize',fsize,'Rotation', 90)
set(gca, 'Position', [0.15,0.15,0.8,0.3],'FontName','Times New Roman','FontSize',fsize)
h = legend('CS', 'PMPT', 'AAPTM', 'JOUR', 'Location', 'Best','Orientation', 'horizontal');
grid on
%saveas(gca, '../benchmark_approaches_2_dell9020.eps' ,'epsc2') ;
%clf;
        
        
